<ion-view title="{{::chatctrl.chat.displayName }}" id="page3">
    <ion-content class="has-chat">
        <ion-list>
            <a
              class="item item-text-wrap item-avatar item-icon-right"
              ion-item
              collection-repeat="message in chatctrl.chat.data.feed"
              ui-sref="student_profile({ student_id: message.data.sender })">
                <img ng-src="{{ message.profile_pic_tiny_url }}">
                <h2>{{message.first_name}} {{message.last_name}}</h2>
                <p>{{message.data.body}}</p>
            </a>
        </ion-list>
    </ion-content>
    <div class="the-fix-is-in" ng-show="chatctrl.showthefix">
      <div class="row">
        <div class="col col-33"><button class="button button-small button-light ion-radio-waves"></button>
        </div>
        <div class="col col-33"><button class="button button-small button-light ion-camera"></button>
        </div>
        <div class="col col-33"><button class="button button-small button-light ion-happy"></button>
        </div>
      </div>
    </div>
    <form name="sendMessageForm" id="sendMessageForm" class="item " ng-submit="chatctrl.handlePostChat(chatctrl.message)" novalidate>
      <div class="send_container">
        <button 
          class="button button-positive button-small add-button" 
          ng-class="{'ion-plus-circled': !chatctrl.showthefix, 'ion-minus-circled': chatctrl.showthefix } "
          ng-click="chatctrl.handleFixClick()"
        ></button>
        <textarea ng-model="chatctrl.message" value="" placeholder="Post a message..." required minlength="1" maxlength="1500" msd-elastic ng-click="$event.preventDefault();"></textarea>
        <button class="post_button button button button-calm button-clear button-small button-footer" type="submit"
          ng-disabled="!chatctrl.message || chatctrl.message === ''">
          post
        </button>
      </div>
    </form>
</ion-view>
